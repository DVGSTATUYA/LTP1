{% extends "base.html" %}
{% block content %}
<h2>{{ product and "Редактирование продукта" or "Добавление продукта" }}</h2>

<form method="post">
  <label>Тип продукта:</label><br>
  <select name="product_type" required>
    {% for pt in product_types %}
      {% set selected = (product and product.product_type == pt.product_type) %}
      <option value="{{ pt.product_type }}" {{ selected and "selected" or "" }}>{{ pt.product_type }}</option>
    {% endfor %}
  </select><br><br>

  <label>Наименование:</label><br>
  <input type="text" name="product_name" value="{{ product.product_name if product else '' }}" required><br><br>

  <label>Артикул:</label><br>
  <input type="number" name="article" value="{{ product.article if product and product.article is not none else '' }}" min="1"><br><br>

  <label>Минимальная стоимость для партнера:</label><br>
  <input type="number" step="0.01" name="min_partner_cost" value="{{ product.min_partner_cost if product and product.min_partner_cost is not none else '' }}" min="0"><br><br>

  <label>Основной материал:</label><br>
  <select name="main_material" required>
    {% for mt in material_types %}
      {% set selected = (product and product.main_material == mt.type_material) %}
      <option value="{{ mt.type_material }}" {{ selected and "selected" or "" }}>{{ mt.type_material }}</option>
    {% endfor %}
  </select><br><br>

  <button type="submit" style="background:#355CBD; color:#fff; padding:8px 16px; border:none; border-radius:4px;">Сохранить</button>
  <a href="{{ url_for('products') }}" style="margin-left:10px;">Назад</a>
</form>
{% endblock %}

